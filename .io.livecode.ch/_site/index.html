{% extends "base_livecode.html" %}

{% block title %}Reflective Towers of Interpreters{% endblock %}

{% block content %}
<h2>Black Walkthrough: Debugging</h2>

<div class="live" id="black" data-lib="">
black

</div>

<div class="live" id="s1" data-lib="black">
  (define foo (lambda (f) (lambda (x) (lambda () (f (+ x 1))))))
  (define thunk ((foo 1) 2))
  (thunk)
</div>

<div class="live" id="s2" data-lib="black s1">
  (old-cont 'ok)
</div>

<div class="live" id="s3" data-lib="black s1 s2">
  (EM (load "break.blk"))
  (inspect thunk)
  f
  (set! f (lambda (x) (+ x 2)))
  (exit 'done)
  (thunk)
  (thunk)
</div>

<div class="live" id="s4" data-lib="black s1 s2 s3">
  (define thunk2 ((foo 2) 3))
  (thunk2)
  (old-cont 'ok)
  (EM (load "examples/multn.blk"))
  (thunk2)
  (1 2 3 4)
</div>
{% endblock %}
